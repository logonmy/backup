{% extends 'base.html' %}
{% block banner %}{% endblock %}
{% block subscript %}{% endblock %}
{% block main %}
    <div class="container container-404 text-center d-flex align-items-center">
        <div class="data">
            <h2>{{ msg }}</h2>
            <p id="msg"></p>
        </div>
    </div>
{% endblock %}
{% block cus_script %}
    <script>
        $(function () {
            var InterValObj; //timer变量，控制时间
            var count = 1; //间隔函数，1秒执行
            var curCount;//当前剩余秒数

            curCount = count;
            InterValObj = window.setInterval(SetRemainTime, 1000); //启动计时器，1秒执行一次


            //timer处理函数
            function SetRemainTime() {
                if (curCount == 0) {
                    window.clearInterval(InterValObj);//停止计时器
                    {% if location %}
                    window.location = '{{ location }}';
                    {% else %}
                    window.location = document.referrer;
                    {% endif %}
                } else {
                    curCount--;
                    $("#msg").html("请稍等。。。");
                }
            }

        })

    </script>
{% endblock %}
